<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>StatConverter</title>
    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />
    <link href="./node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .btn:focus {
            outline: none;
            box-shadow: none !important;
        }
    </style>
</head>

<body style="background: white;">

    <div class="d-flex align-items-start">

        <div class="tab-content" id="v-pills-tabContent" style="width: 858px;">
            <div class="tab-pane fade show active p-4" id="v-pills-convert" role="tabpanel" aria-labelledby="v-pills-convert-tab">

                <div class="row align-items-center mt-5 mb-3">
                    <div class="col-2 text-end">
                        <label for="inputType" class="col-form-label">Input type</label>
                    </div>
                    <div class="col-8">
                        <select class="form-select" id="inputType">
                            <option selected>Select file type</option>
                            <option value="ddi">DDI</option>
                            <option value="excel">Excel</option>
                            <option value="sas">SAS</option>
                            <option value="spss">SPSS</option>
                            <option value="stata">Stata</option>
                            <option value="r">R</option>
                        </select>
                    </div>
                    <div class="col-2"></div>
                </div>
                <div class="row align-items-center mb-5">
                    <div class="col-2 text-end">
                        <label for="fileFrom" class="col-form-label">Convert to</label>
                    </div>
                    <div class="col-8">
                        <input type="input" readonly class="rounded-0 form-control" id="fileFrom">
                        <!-- <input type="password" id="inputPassword6" class="form-control" aria-describedby="passwordHelpInline"> -->
                    </div>
                    <div class="col-2">
                        <span class="d-inline-block" tabindex="0" title="Select input type" id="fromTooltip">
                        <button class="btn btn-secondary rounded-0" disabled id="selectFileFrom">Browse</button>
                        </span>
                    </div>
                </div>

                <hr>

                <div class="row align-items-center mt-5 mb-3">
                    <div class="col-2 text-end">
                        <label for="outputType" class="col-form-label">Output type</label>
                    </div>
                    <div class="col-8">
                        <select class="form-select" id="outputType">
                            <option selected>Select file type</option>
                            <option value="ddi">DDI</option>
                            <option value="excel">Excel</option>
                            <option value="sas">SAS</option>
                            <option value="spss">SPSS</option>
                            <option value="stata">Stata</option>
                            <option value="r">R</option>
                        </select>
                    </div>
                    <div class="col-2"></div>
                </div>
                <div class="row align-items-center mb-2">
                    <div class="col-2 text-end">
                        <label for="fileTo" class="col-form-label">Convert to</label>
                    </div>
                    <div class="col-8">
                        <input type="input" readonly class="rounded-0 form-control" id="fileTo">
                        <!-- <input type="password" id="inputPassword6" class="form-control" aria-describedby="passwordHelpInline"> -->
                    </div>
                    <div class="col-2">
                        <span class="d-inline-block" tabindex="0" title="Select output type" id="toTooltip">
                        <button class="btn btn-secondary rounded-0" disabled id="selectFileTo">Browse</button>
                        </span>
                    </div>
                </div>
                <br>
                <hr>

                <div class="row align-items-center mt-5">
                    <div class="col-2 text-end">
                   
                    </div>
                    <div class="col-8 text-center">
                        <span class="d-inline-block" tabindex="0" title="Complete information before conversion" id="startConvertTooltip">

                        <button class="btn btn-success rounded-0" disabled id="startConvert">Convert</button>
                    </div>
                    <div class="col-2">
                    </div>
                </div>
               


            </div>
            <div class="tab-pane fade" id="v-pills-variables" role="tabpanel" aria-labelledby="v-pills-variables-tab">...</div>
            <div class="tab-pane fade" id="v-pills-cases" role="tabpanel" aria-labelledby="v-pills-cases-tab">...</div>
            <div class="tab-pane fade" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">...</div>
        </div>
        <div class="nav bg-secondary flex-column nav-pills ms-3 border-start pt-4" id="v-pills-tab" role="tablist" aria-orientation="vertical" style="height: 100vh; width: 150px;">
            <button class="rounded-0 btn btn-secondary active" id="v-pills-convert-tab" data-bs-toggle="pill" data-bs-target="#v-pills-convert" type="button" role="tab" aria-controls="v-pills-convert" aria-selected="true">Convert</button>
            <button class="rounded-0 btn btn-secondary" id="v-pills-variables-tab" data-bs-toggle="pill" data-bs-target="#v-pills-variables" type="button" role="tab" aria-controls="v-pills-variables" aria-selected="false">Variables</button>
            <button class="rounded-0 btn btn-secondary" id="v-pills-cases-tab" data-bs-toggle="pill" data-bs-target="#v-pills-cases" type="button" role="tab" aria-controls="v-pills-cases" aria-selected="false">Cases</button>
            <button class="rounded-0  btn btn-secondary" id="v-pills-settings-tab" style="margin-bottom: auto;" data-bs-toggle="pill" data-bs-target="#v-pills-settings" type="button" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</button>
            <div class="text-white text-center flex" style="font-size: 0.8rem;">
                <div class="align-self-end pb-3">
                    <a href="#" class="text-white" id="checkForUpdates">Check for Updates</a><br>
                    version 1.0
                </div>
            </div>
        </div>


    </div>





    <!-- You can also require other files to run in this process -->
    <!-- <script src="./node_modules/@popperjs/core/dist/umd/popper.min.js"></script> -->
    <script src="./node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./dist/renderer.js"></script>
    <script>

        // let focusintext = "";

        // const fileTo = document.getElementById('fileTo');

        // fileTo.addEventListener('focusin', (event) => {
        //     event.target.style.background = 'pink';
        // });

        // fileTo.addEventListener('focusout', (event) => {
        //     event.target.style.background = '';
        // });

        // document.addEventListener('keydown', event => {
		// 	if (event.keyCode == 13) { // enter
		// 		// autentificaFunc();
        //         document.activeElement.blur();
		// 	}
		// });
        
        const inputType = document.getElementById('inputType');
        const fileFrom = document.getElementById('fileFrom');
        const selectFileFrom = document.getElementById('selectFileFrom');
        const outputType = document.getElementById('outputType');
        const fileTo = document.getElementById('fileTo');
        const selectFileTo = document.getElementById('selectFileTo');
        const startConvert = document.getElementById('startConvert');

        inputType.addEventListener('change', () => {
            fileFrom.value = "";
            const inputTypeValue = inputType.options[inputType.selectedIndex].value;
            if (inputTypeValue != 'Select file type') {
                selectFileFrom.disabled = false;
                fromTooltip.disable();
            } else {
                selectFileFrom.disabled = true;
                fromTooltip.enable();
            }
        })

        outputType.addEventListener('change', () => {
            const outputTypeValue = outputType.options[outputType.selectedIndex].value;
            if (outputTypeValue != 'Select file type') {
                selectFileTo.disabled = false;
                toTooltip.disable();
            } else {
                selectFileTo.disabled = true;
                toTooltip.enable();
            }
        })

        fileTo.addEventListener('change', () => {
            const inputTypeValue = inputType.options[inputType.selectedIndex].value;
            const outputTypeValue = outputType.options[outputType.selectedIndex].value;
            if (
                inputTypeValue != 'Select file type' &&
                outputTypeValue != 'Select file type' &&
                fileFrom.value != "" && fileTo.value != ""
            ) {
                startConvert.disabled = false;
                scTooltip.disable();
            }
            else {
                startConvert.disabled = true;
                scTooltip.enable();
            }
        })

        var fromTooltip = new bootstrap.Tooltip(document.getElementById('fromTooltip'), {
            boundary: document.body // or document.querySelector('#boundary')
        })

        var toTooltip = new bootstrap.Tooltip(document.getElementById('toTooltip'), {
            boundary: document.body // or document.querySelector('#boundary')
        })

        var scTooltip = new bootstrap.Tooltip(document.getElementById('startConvertTooltip'), {
            boundary: document.body // or document.querySelector('#boundary')
        })

    </script>
</body>

</html>
